[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/HR2Xz9sU)
# [Group-6] ä¸­éƒ¨å¸‚å ´è”¬èœä½œç‰©åƒ¹æ ¼é æ¸¬
æœ¬ç ”ç©¶æ¢è¨æ°£å€™å› ç´ å°è”¬æœåƒ¹æ ¼çš„å½±éŸ¿ï¼Œé€éåˆ†ææ°£æº«ã€é™é›¨é‡ã€æ—¥ç…§æ™‚æ•¸ç­‰è³‡æ–™ï¼Œå»ºç«‹åƒ¹æ ¼é æ¸¬æ¨¡å‹ã€‚å¸Œæœ›æ‰¾å‡ºå½±éŸ¿åƒ¹æ ¼æ³¢å‹•çš„é—œéµå¤©æ°£å› ç´ ï¼Œå”åŠ©æ¶ˆè²»è€…ã€è¾²æ°‘èˆ‡ç”¢æ¥­åšå‡ºæ›´æœ‰æ•ˆçš„æ±ºç­–ã€‚

## Contributors
|çµ„å“¡|ç³»ç´š|å­¸è™Ÿ|å·¥ä½œåˆ†é…|
|-|-|-|-|
|å‡ƒå† ç‘›|è³‡è¨Šç¢©ä¸€|114753209|è”¬èœåƒ¹æ ¼è³‡æ–™é›†ã€ç°¡å ±|
|å‘‚æ¬£è“‰|çµ±è¨ˆä¸‰|110405098|è”¬èœåƒ¹æ ¼è³‡æ–™é›†ã€demoã€ç°¡å ±|
|å³å½¥å‹³|é‡‘èå››|110207317|å¤©æ°£è³‡æ–™é›†ã€ç°¡å ±|
|å®‹å²·å¡|å“²å­¸å››|108104049|RandomForestæ¨¡å‹ã€æµ·å ±ã€ç°¡å ±|
|é™³èŠæœˆ|è³‡è¨Šå››|110703057|ARIMAæ¨¡å‹ã€xgboostæ¨¡å‹ã€æµ·å ±ã€ç°¡å ±|
|å®‹åº­è±|çµ±è¨ˆå››|110304032|ARIMAæ¨¡å‹ã€xgboostæ¨¡å‹ã€æµ·å ±ã€ç°¡å ±|


## Quick start
Please provide an example command or a few commands to reproduce your analysis, such as the following R script:
```R
Rscript code/your_script.R --input data/training --output results/performance.tsv
```
æœ¬ç ”ç©¶ä½¿ç”¨ ARIMA ã€ XGboost èˆ‡éš¨æ©Ÿæ£®æ—æ¨¡å‹ (Ranger)é æ¸¬å°ç£å„å¸‚å ´èŠ±æ¤°èœåƒ¹æ ¼ï¼Œä¸¦é€é Shiny App è¦–è¦ºåŒ–å±•ç¤ºé æ¸¬çµæœã€‚

æ­¤è™•ä»¥éš¨æ©Ÿæ£®æ—æ¨¡å‹ (Ranger)ä½œç‚ºç¯„ä¾‹ã€‚

### ç³»çµ±éœ€æ±‚ 

- ä½œæ¥­ç³»çµ±ï¼šWindows / macOS / Linux
- R ç‰ˆæœ¬ï¼š4.0 ä»¥ä¸Šï¼ˆå»ºè­°ä½¿ç”¨ 4.3.0 æˆ–ä»¥ä¸Šï¼‰
- è¨˜æ†¶é«”ï¼šå»ºè­°è‡³å°‘ 4GB
- ç¶²è·¯é€£ç·šï¼šç”¨æ–¼å®‰è£ R å¥—ä»¶èˆ‡ä¸‹è¼‰è³‡æ–™

> è‹¥ä½¿ç”¨ RStudioï¼Œè«‹ç¢ºèªå·²å®‰è£æœ€æ–°ç‰ˆï¼Œä»¥æ”¯æ´ Shiny App åŸ·è¡Œã€‚

### 1. ä¸‹è¼‰å°ˆæ¡ˆ

è«‹å…ˆä½¿ç”¨ Git å°‡å°ˆæ¡ˆå…‹éš†åˆ°æœ¬åœ°ç«¯ï¼š
```bash
git clone https://github.com/1132-NCCU-DataScience/finalproject-group-6.git
cd finalproject-group-6
```

### 2. å¥—ä»¶å®‰è£

è«‹å…ˆå®‰è£å¿…è¦å¥—ä»¶ï¼š

```r
install.packages(c("tidyverse", "lubridate", "ranger", "Metrics","zoo","ggplot2",
                   "shiny", "shinydashboard", "DT", "dplyr"))

```
### 3. è³‡æ–™èˆ‡ç›®éŒ„çµæ§‹

è«‹ç¢ºä¿æ‚¨æœ‰ä»¥ä¸‹ç›®éŒ„çµæ§‹ï¼š
```
finalproject-group-6/
â”œâ”€â”€ code/
â”‚   â”œâ”€â”€ Brocoli_predict_Renger(Random Forest).R     # éš¨æ©Ÿæ£®æ—æ¨¡å‹
â”‚   â”œâ”€â”€ app.R                                       # Shinyapp
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ èŠ±æ¤°èœ é’æ¢—.csv                   # èŠ±æ¤°èœäº¤æ˜“è³‡æ–™
â”‚   â”œâ”€â”€ daily_weather.csv                # å¤©æ°£è³‡æ–™
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ 400å¸‚å ´èŠ±æ¤°èœåƒ¹æ ¼é æ¸¬_ranger.png           
â”‚   â”œâ”€â”€ 420å¸‚å ´èŠ±æ¤°èœåƒ¹æ ¼é æ¸¬_ranger.png
â”‚   â”œâ”€â”€ 512å¸‚å ´èŠ±æ¤°èœåƒ¹æ ¼é æ¸¬_ranger.png
â”‚   â”œâ”€â”€ 514å¸‚å ´èŠ±æ¤°èœåƒ¹æ ¼é æ¸¬_ranger.png          
â”‚   â”œâ”€â”€ 648å¸‚å ´èŠ±æ¤°èœåƒ¹æ ¼é æ¸¬_ranger.png      
â”œâ”€â”€ README.md
```
### 4. åŸ·è¡Œæ¨¡å‹è¨“ç·´èˆ‡é æ¸¬

è«‹ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤åŸ·è¡Œä¸»ç¨‹å¼ï¼Œä¸¦å°‡çµæœè¼¸å‡ºç‚ºåœ–ç‰‡æª”ï¼š

```bash
Rscript code/Brocoli_predict_Renger(Random Forest).R \
  --input1 data/èŠ±æ¤°èœ é’æ¢—.csv \
  --input2 data/daily_weather.csv  \
  --output_dir results/
```
### 5. å•Ÿå‹• Shiny App
```bash
shiny::runApp("shiny/")
```

## Folder organization and its related description
idea by Noble WS (2009) [A Quick Guide to Organizing Computational Biology Projects.](https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424) PLoS Comput Biol 5(7): e1000424.

### docs
* Presentation, [Data Science Final.pdf](docs/Data_Science_Final.pdf)
* Data Integration
* Poster of Innofest
* Any related document for the project, i.e.,
  * discussion log
  * software user guide

### data
* è¾²ç”¢å“åƒ¹æ ¼è³‡æ–™
  * Source: ğŸ”— [è¾²ç”¢å“æ‰¹ç™¼å¸‚å ´äº¤æ˜“è¡Œæƒ…ç«™](https://amis.afa.gov.tw/veg/VegProdDayTransInfo.aspx)
  * Duration: 2015/01/01 ~ 2025/04/30
  * Items: èŠ±æ¤°èœï¼ˆé’æ¢—ï¼‰ã€èŒ¼è’¿ã€ç”œè±Œè±†
  * Format:
    | æ¬„ä½åç¨±    | è³‡æ–™å‹æ…‹                |            å–®ä½                  |
    |---------|---------------------------|-------------------------------------|
    | æ—¥æœŸ  |           æ™‚é–“           |            æ¯å¤©/æ¯é€±               |
    | å¸‚å ´    |       é¡åˆ¥å‹          |    å°ä¸­å¸‚ï¼Œè±åŸå€ï¼Œæ°¸é–é„‰ï¼Œæºªæ¹–é®ï¼Œå—æŠ•å¸‚ï¼Œè¥¿èºé®     |
    | ä¸Šåƒ¹  |      æ•¸å€¼å‹       | å…ƒ / å…¬æ–¤     |
    | ä¸­åƒ¹  |      æ•¸å€¼å‹       | å…ƒ / å…¬æ–¤     |
    | ä¸‹åƒ¹  |      æ•¸å€¼å‹       | å…ƒ / å…¬æ–¤     |
    | å¹³å‡åƒ¹  | æ•¸å€¼å‹(ç›®æ¨™)   | å…ƒ / å…¬æ–¤     |
    | å¢æ¸›%  |     æ•¸å€¼å‹   | å…ƒ / å…¬æ–¤     |
    | äº¤æ˜“é‡  |    æ•¸å€¼å‹   | å…¬æ–¤     |
    | å¢æ¸›%  |   æ•¸å€¼å‹   |   å…¬æ–¤     |
  * size:

    | å“ç¨®    | æ—¥è³‡æ–™ç­†æ•¸ | é€±è³‡æ–™ç­†æ•¸ |
    |---------|------------|-------------|
    | èŠ±æ¤°èœ  | 14,983     | 2601         |
    | èŒ¼è’¿    | 4,091      | 807         |
    | ç”œè±Œè±†  | 4,228      | 876        |

#### è¾²ç”¢å“åƒ¹æ ¼è³‡æ–™è™•ç†æµç¨‹èªªæ˜
1. **è³‡æ–™ä¾†æºèˆ‡é¸ç”¨åŸå‰‡**

   * è¾²ç”¢å“åƒ¹æ ¼è³‡æ–™ä¾†è‡ª [è¾²ç”¢å“æ‰¹ç™¼å¸‚å ´äº¤æ˜“è¡Œæƒ…ç«™](https://amis.afa.gov.tw/veg/VegProdDayTransInfo.aspx)ã€‚
   * é¸æ“‡**ä¸‰ç¨®ç‚ºçŸ­æœŸä½œç‰©**ä¸”**ç”¢åœ°é›†ä¸­æ–¼ä¸­éƒ¨**çš„è”¬èœï¼ŒåŒ…æ‹¬èŠ±æ¤°èœ(é’æ¢—)ã€èŒ¼è’¿èˆ‡ç”œè±Œè±†ä¹‹ä¸­éƒ¨å¸‚å ´äº¤æ˜“è³‡æ–™ã€‚
  
2. **åŸå§‹è³‡æ–™è™•ç†**

   * è³‡æ–™æœŸé–“è¨­å®šç‚º**2015/01/01â€“2025/04/30**ã€‚
   * ä¸»è¦æ¬„ä½åŒ…å«ï¼šä¸Šåƒ¹ã€ä¸­åƒ¹ã€ä¸‹åƒ¹ã€å¹³å‡åƒ¹ã€äº¤æ˜“é‡ç­‰æŒ‡æ¨™ä¹‹**æ¯æ—¥æ•¸æ“š**ã€‚
   * ç§»é™¤ä¸ä½¿ç”¨çš„æ¬„ä½(å…©å€‹ `å¢æ¸›%` æ¬„ä½)ã€‚
   
3. **ç¼ºå€¼è™•ç†**
   
   * ç¼ºå¤±å€¼åƒ…1-2ç­†ï¼Œæ•…ç›´æ¥åˆªé™¤ã€‚
     
4. **æ¯æ—¥è³‡æ–™è½‰æ›ç‚ºæ¯é€±è³‡æ–™**

   * æ—¥æœŸæ•´ç†ç‚ºå…©å€‹æ¬„ä½ï¼šå¹´åˆ†ã€å‘¨æ¬¡ã€‚
   * ä¸Šåƒ¹, ä¸­åƒ¹, ä¸‹åƒ¹, å¹³å‡åƒ¹, äº¤æ˜“é‡ä»¥**æ¯å‘¨å¹³å‡**å‘ˆç¾ã€‚
   * äº¤æ˜“é‡ä»¥**æ¯å‘¨åŠ ç¸½**å‘ˆç¾ã€‚

   
* å¤©æ°£è§€æ¸¬è³‡æ–™
  * Source: ğŸ”— [è¾²æ¥­æ°£è±¡è§€æ¸¬ç¶²ç›£æ¸¬ç³»çµ±](https://agr.cwa.gov.tw/history/station_day)
  * Duration: 2014/10/01 ~ 2025/04/30
  * Format:
    | å“ç¨®    | è§€æ¸¬ç«™åœ°é»                | ç”Ÿè‚²æ—¥æ•¸ |
    |---------|---------------------------|-----------|
    | èŠ±æ¤°èœ  | å°ä¸­è¾²æ”¹ã€å—æ”¹æ–—å—åˆ†å ´   | 60 å¤©     |
    | èŒ¼è’¿    | å°ä¸­è¾²æ”¹ã€å—æ”¹æ–—å—åˆ†å ´   | 45 å¤©     |
    | ç”œè±Œè±†  | å°ä¸­è¾²æ”¹ã€å—æ”¹æ–—å—åˆ†å ´   | 90 å¤©     |
  * ç”¢åœ°èˆ‡è§€æ¸¬ç«™åˆ†å¸ƒåœ–: ğŸ”—[é»æ­¤æŸ¥çœ‹åœ°ç†åˆ†å¸ƒäº’å‹•åœ°åœ–](https://www.google.com/maps/d/u/0/edit?mid=1ReIEOk9rDv4Jogp6OP7GNVv825XCBh0&usp=sharing)

* æª”æ¡ˆèªªæ˜
  - `data.ipynb`ï¼šè³‡æ–™æ•´åˆèˆ‡è™•ç†éç¨‹ç´€éŒ„
  - `summary_merged_daily_lagged.csv`ï¼šæ¯æ—¥æ•´åˆè³‡æ–™æ‘˜è¦
  - `summary_merged_weekly_lagged.csv`ï¼šæ¯é€±æ•´åˆè³‡æ–™æ‘˜è¦

#### æ°£è±¡è³‡æ–™è™•ç†æµç¨‹èªªæ˜

1. **è³‡æ–™ä¾†æºèˆ‡é¸ç”¨åŸå‰‡**

   * æ°£è±¡è³‡æ–™ä¾†è‡ª [è¾²æ¥­æ°£è±¡è§€æ¸¬ç¶²ç›£æ¸¬ç³»çµ±](https://agr.cwa.gov.tw/history/station_day)ã€‚
   * é¸æ“‡**ä¸­éƒ¨ç”¢åœ°é„°è¿‘ã€2014 å¹´è‡³ä»Šè³‡æ–™å®Œæ•´çš„è¾²æ¥­æ°£è±¡è§€æ¸¬ç«™**ï¼ˆé›²æ—ï¼šå—æ”¹æ–—å—åˆ†å ´ï¼Œå½°åŒ–ï¼šå°ä¸­è¾²æ”¹ç­‰ï¼‰ï¼Œç¢ºä¿èˆ‡è”¬èœç”¢åœ°é…å°ã€‚

2. **åŸå§‹è³‡æ–™è™•ç†**

   * è³‡æ–™æœŸé–“è¨­å®šç‚º**2014/10/01â€“2025/04/30**ï¼Œæ¶µè“‹è”¬æœåƒ¹æ ¼æœŸé–“åŠç”Ÿè‚²å‰ç½®æœŸã€‚
   * ä¸»è¦æ¬„ä½åŒ…å«ï¼šæ°£å£“ã€æ°£æº«ã€æ¿•åº¦ã€éœ²é»ã€é¢¨é€Ÿã€é™é›¨ã€æ—¥ç…§ã€åœ°æº«ç­‰æŒ‡æ¨™ä¹‹**æ¯æ—¥æ•¸æ“š**ã€‚

3. **ç•°å¸¸å€¼èˆ‡ç¼ºå€¼è™•ç†**

   * é‡å°ä¸åˆç†æ¥µå€¼ï¼ˆå¦‚\*\*æœ€ä½æ°£æº«å‡ºç¾-39.6Â°Cã€ç›¸å°æ¿•åº¦0%\*\*ç­‰æ˜é¡¯éŒ¯èª¤ï¼‰ç›´æ¥è¨­ç‚º NAã€‚
   * **äº¤å‰æ¯”å°å…©è§€æ¸¬ç«™è³‡æ–™**ï¼šåŒä¸€æ—¥å…©ç«™å·®ç•°éå¤§ï¼ˆå¦‚æ°£æº«ç›¸å·®è¶…é 10Â°Cï¼‰ä¹Ÿåˆ¤ç‚ºç•°å¸¸ï¼Œè¨­ NAã€‚
   * éƒ¨åˆ†è®Šæ•¸å¤§é‡ç¼ºå¤±è€…ç›´æ¥å‰”é™¤ï¼ˆä¾‹ï¼šåœ°æº«ç­‰ï¼‰ï¼Œå…¶é¤˜æ¬„ä½å¦‚é‡å–®æ—¥ç¼ºå¤±ï¼Œæ¡**é›™å‘è£œå€¼ï¼ˆå–å‰å¾Œæ—¥å‡å€¼ï¼‰**ã€‚

4. **å¤šç«™è³‡æ–™åˆä½µé‚è¼¯**

   * è‹¥åƒ…å–®ç«™æœ‰æ•¸æ“šï¼Œç›´æ¥æ¡ç”¨ã€‚
   * å…©ç«™çš†æœ‰è³‡æ–™æ™‚ï¼š**å¹³å‡å‹æ¬„ä½å–å¹³å‡å€¼ã€æ¥µå€¼æ¬„ä½å–æœ€å¤§/æœ€å°å€¼**ã€‚
   * å…©ç«™çš†ç¼ºæ™‚ä¿ç•™ç‚º NAï¼Œå¾ŒçºŒé€±è³‡æ–™è™•ç†æ™‚å†é€²è¡Œæ’è£œã€‚

5. **æ¯æ—¥è³‡æ–™è½‰æ›ç‚ºæ¯é€±è³‡æ–™**

   * é€±çµ±è¨ˆæ™‚ï¼Œ**ç´¯ç©å‹è®Šæ•¸ï¼ˆå¦‚é™é›¨é‡ã€æ—¥ç…§æ™‚æ•¸ï¼‰è¦æ±‚ä¸€é€±è‡³å°‘æœ‰å…­å¤©æœ‰å€¼**ï¼Œå¦å‰‡è©²é€±æ¬„ä½è¨˜ç‚º NAã€‚
   * æ¥µå€¼æ¬„ä½å–è©²é€±æ¥µå€¼ï¼Œå¹³å‡å‹æ¬„ä½å–å¹³å‡ã€‚
   * ç¼ºå€¼é€±è³‡æ–™è¦–æƒ…æ³ä»¥æ’å€¼è£œé½Šã€‚

6. **èˆ‡è”¬æœåƒ¹æ ¼è³‡æ–™åˆä½µ**

   * ä»¥è”¬èœæ¯é€±åƒ¹æ ¼è³‡æ–™ç‚ºä¸»è»¸ï¼Œå°‡ç•¶é€±ï¼ˆwï¼‰åŠ**å¾€å‰ 12 é€±**ä¹‹å¤©æ°£è®Šæ•¸åˆä½µé€²åŒä¸€ç­†è³‡æ–™ã€‚
   * çµåˆå¾Œæ¯ç­†æ¨£æœ¬åŒ…å«é«˜é” 283 å€‹å¤©æ°£ç›¸é—œæ¬„ä½ã€‚

7. **å“è³ªæª¢æŸ¥èˆ‡çµ±è¨ˆ**

   * è©³ç´°è¨˜éŒ„å„æ°£è±¡è®Šæ•¸ç¼ºå€¼ç‹€æ³èˆ‡è£œå€¼å¾Œæ¯”ä¾‹ï¼Œç¢ºä¿åˆ†æåŸºç¤è³‡æ–™å“è³ªã€‚
   * ç¯©é¸ç¼ºå¤±éå¤šçš„è®Šæ•¸ï¼ˆå¦‚æœ€å¤§60åˆ†é˜é™æ°´é‡ç­‰ï¼‰é¿å…å½±éŸ¿æ¨¡å‹æ•ˆèƒ½ã€‚
  
### code
* Analysis steps
* Which method or package do you use?
* How do you perform training and evaluation?
  * Cross-validation, or extra separated data
* What is a null model for comparison?

#### xgboost   æ¨¡å‹åˆ†ææµç¨‹
##### Analysis Steps

1. **Load Required Packages**
   - `tidyverse`: Data manipulation and plotting
   - `lubridate`: Date formatting
   - `xgboost`: Machine learning model (gradient boosting)
   - `caret`: Modeling utilities
   - `dplyr`: Data wrangling
   - `showtext`, `sysfonts`: Custom font rendering (Google Noto Sans TC)

2. **Font Setup**
   - Uses `Noto Sans TC` for Traditional Chinese support in plots.

3. **Data Preparation**
   - Reads data from `data/cauliflower_cleaned.csv`.
   - Filters the dataset for the market `"512 æ°¸é–é„‰"`,`"514 æºªæ¹–é®"`, `"648 è¥¿èºé®"` .
   - Combines `year` and `week` columns to create a formatted `date` field.
   - Selects relevant features: 9 weather-related variables (lagged by 3 weeks) and price columns.

4. **Data Splitting**
   - Sorted chronologically.
   - Splits the data into:
     - **Training set**: First 70%
     - **Validation set**: Next 15%
     - **Test set**: Final 15%

---

##### Methods & Packages Used

| Component     | Method / Tool             |
|---------------|---------------------------|
| Regression    | XGBoost (`reg:squarederror`) |
| Evaluation    | RMSE, MAE, R-squared, MAPE |
| Plotting      | `ts.plot()` with actual vs predicted |
| Output Format | CSV and plot               |

---

##### Training and Evaluation

- **No Cross-Validation**: Due to the time-series nature of the data.
- **Validation Set**: Used for early stopping (`early_stopping_rounds = 50`) to prevent overfitting.
- **Test Set**: Used only after training to evaluate generalization.

```r
watchlist = list(train = dtrain, validation = dval)
```
##### Null model
Native Model: é æ¸¬ä¸‹ä¸€æœŸ ï¼ ç¾åœ¨é€™æœŸçš„å€¼

#### RandomForestæ¨¡å‹åˆ†ææµç¨‹

##### Analysis steps
1. **æ•¸æ“šé è™•ç†**ï¼š
   - æ•´åˆè¾²ç”¢å“åƒ¹æ ¼æ•¸æ“šèˆ‡å¤©æ°£è§€æ¸¬æ•¸æ“š
   - è™•ç†æ—¥æœŸæ ¼å¼ä¸¦ç¢ºä¿æ™‚é–“åºåˆ—é€£çºŒæ€§
   - ç§»é™¤æˆ–å¡«è£œç¼ºå¤±å€¼ï¼ˆåƒ¹æ ¼ç¼ºå¤±æ—¥æœŸå‰”é™¤ï¼Œç‰¹å¾µç¼ºå¤±å€¼ä½¿ç”¨ä¸­ä½æ•¸å¡«å……ï¼‰

2. **ç‰¹å¾µå·¥ç¨‹**ï¼š
   - æ™‚é–“ç‰¹å¾µï¼šå¹´ã€æœˆã€æ˜ŸæœŸå¹¾ã€é€±æœ«æ¨™è¨˜
   - åƒ¹æ ¼æ»¯å¾Œç‰¹å¾µï¼š1å¤©ã€7å¤©ã€14å¤©ã€30å¤©å‰åƒ¹æ ¼
   - åƒ¹æ ¼æ»¾å‹•çµ±è¨ˆï¼š7å¤©å’Œ14å¤©ç§»å‹•å¹³å‡ï¼Œ7å¤©ç§»å‹•æ¨™æº–å·®
   - å¤©æ°£ç‰¹å¾µï¼šç•¶æ—¥å¹³å‡/æœ€é«˜/æœ€ä½æº«åº¦ã€ç›¸å°æ¿•åº¦ã€é™é›¨é‡
   - å¤©æ°£æ»¯å¾Œç‰¹å¾µï¼š7å¤©å‰çš„æº«åº¦ã€æ¿•åº¦ã€é™é›¨é‡æ•¸æ“š

3. **æ¨¡å‹å»ºæ§‹èˆ‡è©•ä¼°**ï¼š
   - æ™‚é–“åºåˆ—åˆ†å‰²ï¼ˆå‰80%è¨“ç·´ï¼Œå¾Œ20%æ¸¬è©¦ï¼‰
   - æ¨¡å‹è¨“ç·´èˆ‡é æ¸¬
   - æ€§èƒ½è©•ä¼°èˆ‡æ®˜å·®åˆ†æ
   - ç‰¹å¾µé‡è¦æ€§è©•ä¼°
   - è·¨å¸‚å ´é©—è­‰

##### Packages used
- **æ ¸å¿ƒæ¨¡å‹**ï¼š`ranger`ï¼ˆRandom Forestçš„é«˜æ•ˆå¯¦ç¾ç‰ˆæœ¬ï¼‰
- **æ•¸æ“šè™•ç†**ï¼š`tidyverse`ã€`lubridate`ï¼ˆæ—¥æœŸè™•ç†ï¼‰
- **æ™‚é–“åºåˆ—ç‰¹å¾µ**ï¼š`zoo`ï¼ˆæ»¾å‹•çµ±è¨ˆè¨ˆç®—ï¼‰
- **è©•ä¼°æŒ‡æ¨™**ï¼š`Metrics`ï¼ˆè¨ˆç®—RMSEã€MAEç­‰ï¼‰
- **å¯è¦–åŒ–**ï¼šåŸºç¤Rç¹ªåœ–å‡½æ•¸èˆ‡`ggplot2`

##### Training and evaluation methodology
- **æ•¸æ“šåˆ†å‰²**ï¼šæ¡ç”¨æ™‚é–“é †åºåˆ†å‰²ï¼ˆtemporal splitï¼‰ï¼Œä¿ç•™æœ€å¾Œ20%æ•¸æ“šä½œç‚ºæ¸¬è©¦é›†
- **ç„¡äº¤å‰é©—è­‰**ï¼šç”±æ–¼æ•¸æ“šå…·æ™‚é–“åºåˆ—æ€§è³ªï¼Œæ¡ç”¨å–®ä¸€æ™‚é–“å‘å‰åˆ†å‰²è€Œéäº¤å‰é©—è­‰ï¼Œé¿å…æ•¸æ“šæ´©æ¼
- **åƒæ•¸è¨­å®š**ï¼š
  - æ¨¹æ•¸é‡ï¼š500æ£µ
  - ç‰¹å¾µé‡è¦æ€§è¨ˆç®—ï¼špermutation method
  - éš¨æ©Ÿç¨®å­ï¼š123ï¼ˆç¢ºä¿çµæœå¯é‡ç¾ï¼‰
- **è©•ä¼°æŒ‡æ¨™**ï¼š
  - RMSEï¼ˆå‡æ–¹æ ¹èª¤å·®ï¼‰
  - MAEï¼ˆå¹³å‡çµ•å°èª¤å·®ï¼‰
  - MAPEï¼ˆå¹³å‡çµ•å°ç™¾åˆ†æ¯”èª¤å·®ï¼‰
  - RÂ²ï¼ˆæ±ºå®šä¿‚æ•¸ï¼‰


### results
* image
  ```css
  result/
  â”œâ”€â”€ 512æ°¸é–é„‰æ¯é€±æ‰¹ç™¼åƒ¹æ ¼è¶¨å‹¢åœ–.jpg
  â”œâ”€â”€ 514æºªæ¹–é®æ¯é€±æ‰¹ç™¼åƒ¹æ ¼è¶¨å‹¢åœ–.jpg
  â”œâ”€â”€ 648è¥¿èºé®æ¯é€±æ‰¹ç™¼åƒ¹æ ¼è¶¨å‹¢åœ–.jpg
  â”œâ”€â”€ ä¸åŒå¸‚å ´æ¯å‘¨å¹³å‡åƒ¹æ ¼è¶¨å‹¢.jpg
  â”œâ”€â”€ ä¸åŒå¸‚å ´æ¯å‘¨å¹³å‡åƒ¹æ ¼è¶¨å‹¢2.jpg
  â”œâ”€â”€ xgboost/
  â”‚   â”œâ”€â”€ 512å¸‚å ´åƒ¹æ ¼é æ¸¬_xgboost.jpg
  â”‚   â”œâ”€â”€ 514å¸‚å ´åƒ¹æ ¼é æ¸¬_xgboost.jpg
  â”‚   â””â”€â”€ 648å¸‚å ´åƒ¹æ ¼é æ¸¬_xgboost.jpg
  â””â”€â”€ arima/
  â”‚   â”œâ”€â”€ [512ç³»åˆ—åœ–]
  â”‚   â”œâ”€â”€ [514ç³»åˆ—åœ–]
  â”‚   â””â”€â”€ [648ç³»åˆ—åœ–]
  â””â”€â”€ ranger/
      â”œâ”€â”€ 400å°ä¸­å¸‚ç”œè±Œè±†å¸‚å ´åƒ¹æ ¼é æ¸¬_ranger.png
      â”œâ”€â”€ 420è±åŸå€ç”œè±Œè±†å¸‚å ´åƒ¹æ ¼é æ¸¬_ranger.png
      â”œâ”€â”€ 514æºªæ¹–é®ç”œè±Œè±†å¸‚å ´åƒ¹æ ¼é æ¸¬_range.png
      â”œâ”€â”€ 400å°ä¸­å¸‚èŒ¼è’¿å¸‚å ´åƒ¹æ ¼é æ¸¬_ranger.png
      â”œâ”€â”€ 420è±åŸå€èŒ¼è’¿å¸‚å ´åƒ¹æ ¼é æ¸¬_ranger.png
      â””â”€â”€ 648è¥¿èºé®èŒ¼è’¿å¸‚å ´åƒ¹æ ¼é æ¸¬_range.png
  ```
* Is the improvement significant?
* [Shinyapp](https://hsinjunglu.shinyapps.io/code/)
  
  <img width="949" alt="image" src="https://github.com/user-attachments/assets/a11f4ee8-b73d-498f-b27b-4bea73730d89" />

   é é¢èªªæ˜:
   * Home : ä¸»é¡Œç°¡ä»‹èˆ‡ä½¿ç”¨èªªæ˜ã€‚
   * ARIMA : é¸æ“‡ä¸åŒå¸‚å ´è§€çœ‹æ¨¡å‹è©•ä¼°çµæœã€åƒ¹æ ¼è¶¨å‹¢åœ–ä»¥åŠåƒ¹æ ¼é æ¸¬åœ–ã€‚
   * XGBoost : é¸æ“‡ä¸åŒå¸‚å ´è§€çœ‹æ¨¡å‹è©•ä¼°çµæœä»¥åŠåƒ¹æ ¼é æ¸¬åœ–ã€‚
   * RandomForest : é¸æ“‡ä¸åŒå¸‚å ´è§€çœ‹æ¨¡å‹è©•ä¼°çµæœä»¥åŠåƒ¹æ ¼é æ¸¬åœ–ã€‚å¦å¤–å¯è‡ªè¡Œé¸æ“‡é æ¸¬æ—¥æœŸä»¥åŠåƒæ•¸æ•¸å€¼é€²è¡Œé æ¸¬ã€‚
   * ç›¸é—œä¿‚æ•¸ : ä¸åŒå¸‚å ´ä¹‹ç‰¹å¾µè®Šæ•¸èˆ‡è”¬èœå¹³å‡äº¤æ˜“åƒ¹çš„ç›¸é—œä¿‚æ•¸åœ–ã€‚


## References
* Packages we use
   * `readxl`
   * `dplyr`
   * `lubridate`
   * `tools`
   * `shiny`
   * `shinydashboard` 
   * `DT`
   * `ranger`
   * `tidyverse`
   * `zoo`
   * `Metrics`
   * `ggplot2`
     
* Related publications

| ä¸»é¡Œ             | é€£çµ |
|------------------|------|
| é£Ÿè¾²æ•™è‚²è³‡è¨Šæ•´åˆå¹³å° | [é»æ­¤å‰å¾€](https://fae.moa.gov.tw/map/county_agri.php) |
| èŠ±æ¤°èœç”¢åœ°èªªæ˜     | [å°ä¸­å€è¾²æ”¹å ´](https://www.tcdares.gov.tw/theme_data.php?theme=news&sub_theme=event&id=13643) |
| èŒ¼è’¿ç”¢åœ°èªªæ˜      | [ç¾é£Ÿç¶²](https://food.ltn.com.tw/article/1282) |
| è±Œè±†ç”¢åœ°å ±å°      | [è¾²å‚³åª’](https://www.agriharvest.tw/archives/73963) |
